jQuery((function(e){var t,i,a,o,n,r,s,l,d=e(window),_=e("html"),c=e("body"),p=Math.round(d.height()),f=-1,u=e(".pos__fixed");if(d.width()>960)var h=!1;else{h=!0;if(d.width()>560)var m=!1;else m=!0}var v=e(".header"),g=v.outerHeight(),w=window.Scrollbar;e(".smooth__scroll").each((function(){w.init(this,{damping:.1,alwaysShowTracks:!0})}));var b=!1;function C(t){t!=i&&(b=!0,e("html, body").animate({scrollTop:t},500,(function(){b=!1,z(),J()})))}var y=e(".animation"),k=[];function z(){if(!b&&0!=k.length)for(var e=i+p,t=0;t<k.length;t++)e>k[t].top+30&&k[t].bottom-30>i&&y.eq(t).addClass("active")}function q(){0!==y.length&&(k=[],y.each((function(){var t=e(this),i=Math.round(t.offset().top);k.push({top:i,bottom:i+Math.round(t.height())})})))}var x=e(".district__titles__slider"),T=e(".districts__btn"),S=new Swiper(".district__titles__slider > .swiper:not(.swiper-initialized)",{slidesPerView:"auto",spaceBetween:0,loop:!0,slideToClickedSlide:!0,navigation:{prevEl:".district__titles__slider .swiper__prev",nextEl:".district__titles__slider .swiper__next"},pagination:{el:".district__titles__pagination",type:"progressbar"},on:{realIndexChange:function(t){T.attr("data-subject",e(t.$el).children(".swiper-wrapper").children(".swiper-slide").eq(t.snapIndex).children(".district__slide__title").children("a").text())}}}),E=new Swiper(".district__contents__slider > .swiper:not(.swiper-initialized)",{slidesPerView:"auto",spaceBetween:0,autoHeight:!0,loop:!0,allowTouchMove:!1}),A=new Swiper(".district__imgs__slider > .swiper:not(.swiper-initialized)",{slidesPerView:"auto",spaceBetween:0,loop:!0,allowTouchMove:!1,on:{beforeInit:function(t){h&&P(e(t.el).parent(".district__imgs__slider"))},resize:function(t){h&&setTimeout((function(){P(e(t.el).parent(".district__imgs__slider"))}),250)}}});function P(e){e.css("top",x.position().top+x.outerHeight())}S.controller.control=E,E.controller.control=A;var B=e(".popular__projects__slider"),D=B.next(".hidden__popular__project__slides");D.append(B.children(".swiper").children(".swiper-wrapper").children(".swiper-slide").clone());var R=D.children(".swiper-slide"),V=new Swiper(".popular__projects__slider > .swiper:not(.swiper-initialized)",{slidesPerView:3,spaceBetween:0,loopAdditionalSlides:1,loop:!0,observer:!0,navigation:{prevEl:".popular__projects__nav .swiper__prev",nextEl:".popular__projects__nav .swiper__next"},breakpoints:{0:{slidesPerView:"auto"},561:{slidesPerView:2},961:{slidesPerView:3}}});e(".popular__projects__tab").on("click",(function(){var t=e(this);if(!t.hasClass("active")){t.addClass("active").siblings(".popular__projects__tab.active").removeClass("active");var i=[];R.filter('[data-popular-project-group="'+t.data("popular-project-group")+'"]').each((function(){i.push(this)})),V.removeAllSlides(),V.appendSlide(i),V.update(),V.slideToLoop(0,0)}})),e(".popular__project__popup__main__slider:not(.swiper-initialized)").each((function(){var t=e(this).next(".popular__project__popup__thumbnails__slider"),i=new Swiper(t.children(".swiper:not(.swiper-initialized)")[0],{slidesPerView:5,spaceBetween:5,loop:!0,watchSlidesProgress:!0,breakpoints:{0:{slidesPerView:5,spaceBetween:2},561:{slidesPerView:3,spaceBetween:5},961:{slidesPerView:5,spaceBetween:5}}});new Swiper(this,{slidesPerView:1,spaceBetween:5,loop:!0,navigation:{prevEl:t.find(".swiper__prev")[0],nextEl:t.find(".swiper__next")[0]},thumbs:{swiper:i}})})),new Swiper(".articles__slider > .swiper:not(.swiper-initialized)",{slidesPerView:3,spaceBetween:0,loopAdditionalSlides:1,loop:!0,navigation:{prevEl:".articles__nav .swiper__prev",nextEl:".articles__nav .swiper__next"},breakpoints:{0:{slidesPerView:"auto"},561:{slidesPerView:2},961:{slidesPerView:3}}});var F=new Swiper(".quiz__slider:not(.swiper-initialized)",{slidesPerView:1,spaceBetween:0,loop:!1,allowTouchMove:!1,observer:!0,autoHeight:!0,pagination:{el:".quiz__pagination",type:"progressbar"}});e(".quiz__slide__5__slider > .swiper:not(.swiper-initialized)").each((function(){var t=e(this);new Swiper(this,{slidesPerView:5,spaceBetween:0,loop:!1,centeredSlides:!1,navigation:{prevEl:t.find(".swiper__prev")[0],nextEl:t.find(".swiper__next")[0]},breakpoints:{0:{slidesPerView:"auto",centeredSlides:!0},561:{slidesPerView:3,centeredSlides:!1},961:{slidesPerView:5,centeredSlides:!1}}})}));var N=e("#quiz-popup"),j=N.find(".quiz__slide"),M=[];N.find(".quiz__title");var U=1,W=8,X=N.find(".quiz__count__value > .from"),O=N.find(".quiz__count__value > .to");j.eq(0).find('input[name="service"]').on("change",(function(){(a=e(this).val())==("ru"==lang?"Покупка недвижимости":"Buy a property")?(0==j.filter(".quiz__slide___2").length&&F.addSlide(1,M[1]),0==j.filter(".quiz__slide___7").length&&(F.addSlide(W,M[6]),F.addSlide(W,M[7]))):a==("ru"==lang?"Продажа недвижимости":"Sell a property")?(0==j.filter(".quiz__slide___2").length&&F.addSlide(1,M[1]),j.filter(".quiz__slide___7").length>0&&(M[6]=j.filter(".quiz__slide___7"),M[7]=j.filter(".quiz__slide___8"),F.removeSlide(6),F.removeSlide(7))):a==("ru"==lang?"Аренда недвижимости":"Rent a Property")&&(M[1]=j.filter(".quiz__slide___2"),F.removeSlide(1),j.filter(".quiz__slide___7").length>0&&(M[6]=j.filter(".quiz__slide___7"),M[7]=j.filter(".quiz__slide___8"),F.removeSlide(6),F.removeSlide(7))),F.update(),W=(j=N.find(".quiz__slide")).length-1,O.text(W),a==("ru"==lang?"Продажа недвижимости":"Sell a property")?(j.eq(1).find(".quiz__title").html("ru"==lang?"Какую недвижимость вы продаете?":"What kind of property do you sell?"),j.eq(2).find(".quiz__title").html("ru"==lang?"Какой тип недвижимости вы продаете?":"What type of property do you sell?"),j.eq(3).find(".quiz__title").html("ru"==lang?"В каком районе Дубая вы продаете недвижимость?":"In which area of Dubai do you sell property?"),j.eq(4).find(".quiz__title").html("ru"==lang?"Сколько комнат?":"How many bedrooms do you have?"),j.eq(5).find(".quiz__title").html("ru"==lang?"Какова площадь?":"What size of apartment/house?")):(j.eq(1).find(".quiz__title").html("ru"==lang?"Какая недвижимость вас интересует?":"What kind of property are you interested&nbsp;in?"),j.filter(".quiz__slide___3").find(".quiz__title").html("ru"==lang?"Какой тип недвижимости вас интересует?":"What type of property are you interested&nbsp;in?"),j.filter(".quiz__slide___4").find(".quiz__title").html("ru"==lang?"Какой район Дубая вы бы предпочли?":"Which district of Dubai would you prefer?"),j.filter(".quiz__slide___5").find(".quiz__title").html("ru"==lang?"Сколько спален вам нужно?":"How many bedrooms do you need?"),j.filter(".quiz__slide___6").find(".quiz__title").html("ru"==lang?"Какой размер квартиры/дома вы бы предпочли?":"What size of apartment/house would you prefer?"))})),N.find(".quiz__prev").on("click",(function(){U<=1||(F.slidePrev(),U--,X.text(U))})),N.find(".quiz__next").on("click",(function(){if(!(U>=W+1)){var e=!0;0==j.eq(U-1).find('input[type="radio"]:checked, input[type="checkbox"]:checked').parent(":visible").length&&(e=!1),e&&(j.eq(U-1).hasClass("quiz__slide___3")&&(j.eq(U-1).find('input[name="type_of_property"]:checked').val()==("ru"==lang?"Квартира":"Apartment")?(j.eq(U+1).find(".for__apartment").removeClass("hide").siblings(".for__villa").addClass("hide"),j.eq(U+2).find(".for__apartment").removeClass("hide").siblings(".for__villa").addClass("hide")):(j.eq(U+1).find(".for__apartment").addClass("hide").siblings(".for__villa").removeClass("hide"),j.eq(U+2).find(".for__apartment").addClass("hide").siblings(".for__villa").removeClass("hide"))),F.slideNext(),++U==W+1?N.addClass("last__slide"):X.text(U))}}));var L=e(".nav"),H=!1;function I(e=!1){H&&(!e||e.target==L[0]||"A"==e.target.nodeName&&e.target.getAttribute("href")&&null!=e.target.getAttribute("href")&&"#"!=e.target.getAttribute("href")||-1!=e.target.className.indexOf("close__menu")||-1!=e.target.parentElement.className.indexOf("close__menu"))&&(_.removeClass("overflow__hidden__menu menu__active"),t>0&&L.css("right",-1*t),H=!1)}e(".menu__toggle").on("click",(function(){H?I():((t=d[0].innerWidth-d.width())>0&&(c.css("padding-right",t),u.css("right",t)),_.addClass("overflow__hidden__menu menu__active"),H=!0)})),L.on("click",(function(e){I(e)}));var G={},$="";function J(){if(!b&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(G)){var e=!1,t=i+Math.round(p/2);for(var a in G)t>G[a].top-30&&G[a].bottom+30>t&&($!==a&&(_.addClass("anchor__links__active"),o.parent("li.active__anchor__link").removeClass("active__anchor__link"),o.filter('[href *= "'+a+'"]').parent("li").addClass("active__anchor__link"),history.replaceState({},"",a),$=a),e=!0);_.hasClass("anchor__links__active")&&!e&&(_.removeClass("anchor__links__active"),o.parent("li.active__anchor__link").removeClass("active__anchor__link"),history.replaceState({},"",window.location.pathname),$="")}}function Q(){if(G={},o=L.find('.menu a[href *= "#"]'),!h){var t=v.find(".header__links").children("li").children('a[href *= "#"]');o=o.add(t)}o=o.filter((function(){var t=e(this).attr("href"),i=t.indexOf("#"),a=t.slice(i);if(a.length<2||0==e(a).length)return!1;if(0===i&&("/"==window.location.pathname||"/en"==window.location.pathname||"/en/"==window.location.pathname)||i>0&&(window.location.pathname==t.slice(0,i)||window.location.pathname==t.slice(0,i-1))){if(G.hasOwnProperty(a))return!0;var o=e(a),n=Math.round(o.offset().top);return G[a]={top:n,bottom:n+Math.round(o.outerHeight())},!0}}))}e('a[href *= "#"]').on("click",(function(t){var i=e(this),a=i.attr("href"),n=a.indexOf("#"),r=a.slice(n);if(!(r.length<2)){if(0===n&&"/"!=window.location.pathname&&"/en"!=window.location.pathname&&"/en/"!=window.location.pathname)return t.preventDefault(),void("_blank"!=i.attr("target")?window.location=window.location.protocol+"//"+window.location.hostname+"/"+r:window.open(window.location.protocol+"//"+window.location.hostname+"/"+r));(0===n&&("/"==window.location.pathname||"/en"==window.location.pathname||"/en/"==window.location.pathname)||n>0&&(window.location.pathname==a.slice(0,n)||window.location.pathname==a.slice(0,n-1))&&e(r).length>0)&&(t.preventDefault(),o.filter(i).length>0&&(_.addClass("anchor__links__active"),o.parent("li.active__anchor__link").removeClass("active__anchor__link"),o.filter('[href *= "'+r+'"]').parent("li").addClass("active__anchor__link")),history.replaceState({},"",r),C(Math.round(e(r).offset().top)))}})),e(".scroll__up").on("click",(function(){C(0)}));var K=e(".popup__overlay"),Y="",Z=!1;function ee(e=!1){Z&&(!e||e.target==K[0]||-1!=e.target.className.indexOf("close__popup")||-1!=e.target.parentElement.className.indexOf("close__popup"))&&(n.removeClass("active"),_.removeClass("popup__active"),setTimeout((function(){_.removeClass("overflow__hidden__popup"),n.find(".form__success").hide()}),300),Z=!1)}c.on("click",".open__popup",(function(i){if(!(e(i.target).closest(".select").length>0)){var a=e(this);Y=a.data("popup"),function(e=!1){if(Z){if(0==K.children("#"+Y).length)return;n.removeClass("active"),n=K.children("#"+Y)}else{if(0==(n=K.children("#"+Y)).length)return;(t=d[0].innerWidth-d.width())>0&&(c.css("padding-right",t),u.css("right",t)),_.addClass("overflow__hidden__popup popup__active")}e?n.find('input[name="subject"]').val(e):n.find('input[name="subject"]').val(""),n.addClass("active"),setTimeout((function(){n.find("input").not(":checkbox, :radio, :hidden, :submit, :button, :reset, :image").eq(0).focus()}),300),Z=!0}(a.attr("data-subject"))}})),K.on("mousedown",(function(e){ee(e)}));var te=e(".fullpage__popup__overlay"),ie="",ae=!1;function oe(){ae&&(_.removeClass("fullpage__popup__active"),setTimeout((function(){r.removeClass("active"),_.removeClass("overflow__hidden__popup")}),600),ae=!1)}e(".open__fullpage__popup").on("click",(function(){ie=e(this).data("fullpage-popup"),function(){if(ae){if(0==te.children("#"+ie).length)return;r.removeClass("active"),r=te.children("#"+ie)}else{if(0==(r=te.children("#"+ie)).length)return;(t=d[0].innerWidth-d.width())>0&&(c.css("padding-right",t),u.css("right",t)),_.addClass("overflow__hidden__popup fullpage__popup__active")}r.addClass("active"),ae=!0}()})),te.find(".close__popup").on("click",(function(e){oe()}));var ne=!1;function re(t=!1){!ne||t&&e(t.target).closest(".select").length>0||(s.removeClass("active").siblings(".options").stop().slideUp(250),ne=!1)}c.on("mouseenter",".currency__select",(function(){if(!h){var t=e(this).children(".selected__item");t.addClass("active").siblings(".options").stop().slideDown(250),s=t,ne=!0}})),c.on("mouseleave",".currency__select",(function(){h||re()})),c.on("click",".selected__item",(function(t){t.stopPropagation();var i=e(this);if(i.hasClass("active"))re();else{re(),i.addClass("active").siblings(".options").stop().slideDown(250);var a=(s=i).closest("form");a.length>0&&a.find(".form__success").slideUp(),ne=!0}})),c.on("click",".options p",(function(t){t.stopPropagation();var i=e(this),a=i.data("code")?i.data("code"):i.html();i.addClass("active").siblings("p.active").removeClass("active"),s.children(".selected__item__val").html(a);var o=s.parent(".currency__select").prev("[data-cost]");o.length>0&&o.text(new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(o.data("cost")*i.data("currency-exchange-rate"))),re();var n=s.attr("data-input");if(n){var r=s.closest("form");if(0!=r.length){var l=r.find('input[name="'+n+'"]');if(0!=l.length){var d=i.data("country")?i.data("country"):a;l.val(d)}}}}));var se=e(".f");if(se.length>0){var le=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,})+$/;se.on("submit",(function(t){t.preventDefault();var i=e(this),a=i.find('input[type="submit"]');a.addClass("loading").attr("disabled","disabled"),i.find(".form__success").slideUp();var o=!0,n="";if(i.find("input.required, textarea.required").each((function(){var t=e(this);if("TEXTAREA"==this.nodeName||"checkbox"!=t.attr("type")){var a=t.val();if(""==a){var r=t.attr("name");"TEXTAREA"==this.nodeName||"hidden"!=t.attr("type")?t.addClass("form__item__not__valid"):i.find('.selected__item[data-input="'+r+'"]').addClass("form__item__not__valid");var s=i.find(".form__notice.form__notice__"+r),l="ru"==lang?"<p>Пожалуйста, заполните это&nbsp;поле</p>":"<p>Please fill in&nbsp;the&nbsp;field</p>";0==s.length?"TEXTAREA"==this.nodeName||"hidden"!=t.attr("type")?t.after('<div class="form__notice form__notice__'+r+'">'+l+"</div>"):i.find('.selected__item[data-input="'+r+'"]').after('<div class="form__notice form__notice__'+r+'">'+l+"</div>"):s.html(l),""!=n&&(n+=", "),n+=".form__notice.form__notice__"+r,o=!1}else if("TEXTAREA"!=this.nodeName&&"email"==t.attr("type")&&!le.test(a)){r=t.attr("name");t.addClass("form__item__not__valid");s=i.find(".form__notice.form__notice__"+r),l="ru"==lang?"<p>Пожалуйста, укажите корректный email</p>":"<p>Please enter the correct email</p>";0==s.length?t.after('<div class="form__notice form__notice__'+r+'">'+l+"</div>"):s.html(l),""!=n&&(n+=", "),n+=".form__notice.form__notice__"+r,o=!1}}else if(!t.prop("checked")){r=t.attr("name"),s=i.find(".form__notice.form__notice__"+r),l="ru"==lang?"<p>Пожалуйста, дайте согласие на&nbsp;обработку персональных&nbsp;данных</p>":"<p>Please give your consent to&nbsp;the&nbsp;processing of&nbsp;personal&nbsp;data</p>";0==s.length?t.parent("label").after('<div class="form__notice form__notice__'+r+'">'+l+"</div>"):s.html(l),""!=n&&(n+=", "),n+=".form__notice.form__notice__"+r,o=!1}})),!o)return a.removeClass("loading"),void i.find(n).slideDown();var r=i.find('input[name="form_id"]').val(),s=i.serialize();s+="&lang="+lang,e.ajax({type:i.attr("method")?i.attr("method"):"POST",url:i.attr("action")?i.attr("action"):window.location.protocol+"//"+window.location.hostname+"/send.php",data:s,success:function(t){var o=e.parseJSON(t);if(r!=o.form_id){a.removeClass("loading").slideUp();var n=i.find(".form__error"),s="ru"==lang?"<p>Извините, возникла ошибка. Пожалуйста, перезагрузите страницу и&nbsp;попробуйте ещё&nbsp;раз.</p>":"<p>Sorry, an&nbsp;error has&nbsp;occurred. Please reload the&nbsp;page and&nbsp;try&nbsp;again.</p>";return 0==n.length?(a.after('<div class="form__error">'+s+"</div>"),n=i.find(".form__error")):n.removeClass("active").html(s),n.slideDown(),setTimeout((function(){n.addClass("active")}),10),void console.log('The values of the "form_id" field do not match.')}if(o.error)return a.removeClass("loading").slideUp(),0==(n=i.find(".form__error")).length?(a.after('<div class="form__error">'+o.error.text+"</div>"),n=i.find(".form__error")):n.removeClass("active").html(o.error.text),n.slideDown(),setTimeout((function(){n.addClass("active")}),10),void(o.error.log&&console.log(o.error.log));if(o.notices){a.removeClass("loading");var l="";for(var d in o.notices){var _=i.find('input[name="'+d+'"], textarea[name="'+d+'"]');"TEXTAREA"==_[0].nodeName?_.addClass("form__item__not__valid"):"checkbox"!=_.attr("type")&&("hidden"!=_.attr("type")?_.addClass("form__item__not__valid"):i.find('.selected__item[data-input="'+d+'"]').addClass("form__item__not__valid"));var c=i.find(".form__notice.form__notice__"+d);0==c.length?"TEXTAREA"==_[0].nodeName?_.after('<div class="form__notice form__notice__'+d+'">'+o.notices[d]+"</div>"):"checkbox"!=_.attr("type")?"hidden"!=_.attr("type")?_.after('<div class="form__notice form__notice__'+d+'">'+o.notices[d]+"</div>"):i.find('.selected__item[data-input="'+d+'"]').after('<div class="form__notice form__notice__'+d+'">'+o.notices[d]+"</div>"):_.parent("label").after('<div class="form__notice form__notice__'+d+'">'+o.notices[d]+"</div>"):c.html(o.notices[d]),""!=l&&(l+=", "),l+=".form__notice.form__notice__"+d}i.find(l).slideDown()}else if(o.success){if(i.find("input").not(":checkbox, :radio, :hidden, :submit, :button, :reset, :image").val(""),i.find("select option").removeAttr("selected"),i.find(":checkbox").not('input[name="privacy_policy"]').prop("checked",!1),i.find("textarea").val(""),a.removeAttr("disabled").removeClass("loading"),ym(89548665,"reachGoal","success"),gtag("event","success",{formName:"contact__form",formURL:"https://propertyinvestmentindubai.com"}),"quiz-form"==r)return void N.addClass("done");var p=i.find(".form__success");0==p.length?(a.after('<div class="form__success">'+o.success+"</div>"),p=i.find(".form__success")):p.removeClass("active").html(o.success),p.slideDown(),setTimeout((function(){p.addClass("active")}),10)}},error:function(){a.removeClass("loading").slideUp();var e=i.find(".form__error"),t="ru"==lang?"<p>Извините, возникла ошибка. Пожалуйста, перезагрузите страницу и&nbsp;попробуйте ещё&nbsp;раз.</p>":"<p>Sorry, an&nbsp;error has&nbsp;occurred. Please reload the&nbsp;page and&nbsp;try&nbsp;again.</p>";0==e.length?(a.after('<div class="form__error">'+t+"</div>"),e=i.find(".form__error")):e.removeClass("active").html(t),e.slideDown(),setTimeout((function(){e.addClass("active")}),10),console.log("Ajax request error")}})})),se.on("focus","input:not(:checkbox, :radio).required, textarea.required",(function(){e(this).removeClass("form__item__not__valid")})),se.on("blur","input:not(:checkbox, :radio).required, textarea.required",(function(){var t=e(this),i=t.closest("form"),a=t.val();if(""==a){t.addClass("form__item__not__valid");var o=i.find(".form__notice.form__notice__"+t.attr("name"));o.length>0&&(i.find('input[type="submit"]').attr("disabled","disabled"),o.slideDown())}else if("TEXTAREA"!=this.nodeName&&"email"==t.attr("type")&&!le.test(a)){t.addClass("form__item__not__valid");var n=t.attr("name");i.find(".form__notice.form__notice__"+n).length>0&&i.find(".form__notice.form__notice__"+n).html()=="<p>"+("ru"==lang?"Пожалуйста, укажите корректный email":"Please enter the correct email")+"</p>"&&i.find(".form__notice.form__notice__"+n).slideDown()}})),se.on("input","input:not(:checkbox, :radio), textarea",(function(){var t=e(this),i=t.closest("form"),a=t.val();if(i.find(".form__success").slideUp(),t.hasClass("required")&&""!=a){var o=i.find(".form__notice.form__notice__"+t.attr("name"));if(0!=o.length){var n=i.find('input[type="submit"]');if("TEXTAREA"!=this.nodeName&&"email"==t.attr("type")&&o.html()=="<p>"+("ru"==lang?"Пожалуйста, укажите корректный email":"Please enter the correct email")+"</p>"&&!le.test(a))return o.slideDown(),void n.attr("disabled","disabled");if(o.slideUp(),n.is(":disabled")&&0==i.find(".form__error").length){var r=!0;i.find("input.required, textarea.required").not(t).each((function(){var t=e(this),a=t.attr("name");if(0!=i.find(".form__notice.form__notice__"+a).length)if("TEXTAREA"==this.nodeName||"checkbox"!=t.attr("type")){var o=t.val();""!=o&&("TEXTAREA"==this.nodeName||"email"!=t.attr("type")||i.find(".form__notice.form__notice__"+a).html()!="<p>"+("ru"==lang?"Пожалуйста, укажите корректный email":"Please enter the correct email")+"</p>"||le.test(o))||(r=!1)}else t.prop("checked")||(r=!1)})),r&&n.removeAttr("disabled")}}}})),se.find('input[type="checkbox"]').on("change",(function(){var t=e(this),i=t.closest("form");if(i.find(".form__success").slideUp(),t.hasClass("required")){var a=i.find(".form__notice.form__notice__"+t.attr("name"));if(0!=a.length){var o=i.find('input[type="submit"]');if(t.prop("checked")){if(a.slideUp(),o.is(":disabled")&&0==i.find(".form__error").length){var n=!0;i.find("input.required, textarea.required").not(t).each((function(){var t=e(this),a=t.attr("name");if(0!=i.find(".form__notice.form__notice__"+a).length)if("TEXTAREA"==this.nodeName||"checkbox"!=t.attr("type")){var o=t.val();""!=o&&("TEXTAREA"==this.nodeName||"email"!=t.attr("type")||i.find(".form__notice.form__notice__"+a).html()!="<p>"+("ru"==lang?"Пожалуйста, укажите корректный email":"Please enter the correct email")+"</p>"||le.test(o))||(n=!1)}else t.prop("checked")||(n=!1)})),n&&o.removeAttr("disabled")}}else a.slideDown(),o.attr("disabled","disabled")}}})),se.find('input[type="radio"]').on("change",(function(){e(this).closest("form").find(".form__success").slideUp()}))}var de=e(".table__wrap table");function _e(t){var i,a;if(l=e(this).parent(".table__nav__wrap").next(".table__scroll"),t.data.is_right){if(i=l.children("table").outerWidth(!0)-l.width(),l[0].scrollLeft>=i)return;a=Math.round(1.75*(i-l[0].scrollLeft))}else{if(l[0].scrollLeft<=0)return;i=0,a=Math.round(1.75*l[0].scrollLeft)}l.animate({scrollLeft:i},{duration:a})}function ce(e){e.preventDefault(),l.stop(!0,!1)}function pe(){0!=de.length&&de.each((function(){var t=e(this),i=t.parent(".table__scroll");t.outerWidth(!0)>i.width()?(0==i.prev(".table__nav__wrap flex").length&&(i.before('<div class="table__nav__wrap flex"><div class="table__nav table__left"></div><div class="table__nav table__right"></div></div>'),i.prev(".table__nav__wrap").on("mousedown touchstart",".table__left",{is_right:!1},_e).on("mousedown touchstart",".table__right",{is_right:!0},_e).on("mouseup touchend",".table__nav",ce)),i.parent(".table__wrap").addClass("table__nav__active")):i.parent(".table__wrap").removeClass("table__nav__active")}))}var fe=0,ue=window.getComputedStyle(_[0]).getPropertyValue("font-size").slice(0,-2);let he=document.getElementById("chart").getContext("2d");Chart.defaults.font.family="'Stem', sans-serif",Chart.defaults.font.weight="bold",Chart.defaults.color="#181818",Chart.defaults.borderColor="#D9D9D9",Chart.defaults.plugins.legend.display=!1,Chart.defaults.plugins.tooltip.displayColors=!1;var me=he.createLinearGradient(0,0,0,43.75*ue);me.addColorStop(0,"#9FCE30"),me.addColorStop(1,"rgba(159, 206, 48, 0.25)"),Chart.defaults.backgroundColor=me,Chart.defaults.hoverBackgroundColor=me,h?m?(Chart.defaults.font.size=ue,Chart.defaults.plugins.tooltip.padding=.625*ue,Chart.defaults.plugins.tooltip.titleFont={size:.875*ue},Chart.defaults.plugins.tooltip.bodyFont={size:.875*ue}):(Chart.defaults.font.size=1.125*ue,Chart.defaults.plugins.tooltip.padding=.75*ue,Chart.defaults.plugins.tooltip.titleFont={size:ue},Chart.defaults.plugins.tooltip.bodyFont={size:ue}):(Chart.defaults.font.size=1.5*ue,Chart.defaults.plugins.tooltip.padding=.9375*ue,Chart.defaults.plugins.tooltip.titleFont={size:1.125*ue},Chart.defaults.plugins.tooltip.bodyFont={size:1.125*ue});let ve=new Chart(he,{type:"bar",data:{labels:["2020","2021","2022"],datasets:[{label:"",data:[27e3,53e3,63722],barThickness:m?4*ue:6.25*ue}]},plugins:[ChartDataLabels],options:{maintainAspectRatio:!1,layout:{padding:{bottom:h?m?-.75*ue:-.9375*ue:-1.375*ue}},scales:{y:{grid:{drawBorder:!1,drawTicks:!1},ticks:{padding:.5625*ue,crossAlign:"far"},grace:"37%"},x:{grid:{display:!1,drawTicks:!1},ticks:{padding:h?m?.75*ue:.9375*ue:1.375*ue}}},plugins:{tooltip:{callbacks:{label:function(e){var t=e.dataset.label||"";return t&&(t+=" "),null!==e.parsed.y&&(t+=new Intl.NumberFormat("en-US",{}).format(e.parsed.y)),t}}},datalabels:{display:!1,font:{size:h?m?1.25*ue:1.5*ue:3*ue,weight:"bold"},anchor:"end",align:"end",offset:0,padding:{bottom:h?1.5625*ue:4.0625*ue},formatter:function(e){return e+"B"}}}}});var ge=e(".profitability__labels");function we(e,t,i=!1){var a;return function(){let o=this,n=arguments,r=function(){a=null,i||e.apply(o,n)},s=i&&!a;clearTimeout(a),a=setTimeout(r,t),s&&e.apply(o,n)}}function be(){p=Math.round(d.height()),g=v.outerHeight(),i=Math.round(d.scrollTop()),f=-1,d.width()>960?h=!1:(h=!0,m=!(d.width()>560)),pe(),q(),Q()}e(".profitability__tab").on("click",(function(){var t=e(this);fe=t.index(),t.hasClass("active")||(t.addClass("active").siblings(".profitability__tab.active").removeClass("active"),0==fe?(ve.data.datasets[0].data=[27e3,53e3,43e3],ve.data.datasets[0].backgroundColor=me,ve.data.datasets[0].hoverBackgroundColor=me,ve.data.datasets[0].barThickness=m?4*ue:6.25*ue,ve.data.datasets[0].borderRadius=0,ve.data.datasets.splice(1,2),ve.options.scales.y.grid.display=!0,ve.options.scales.y.ticks.display=!0,ve.options.scales.y.grace="37%",ve.options.plugins.tooltip.enabled=!0,ve.options.plugins.datalabels.display=!1,h?ge.slideUp(300):ge.removeClass("active")):1==fe?(ve.data.datasets[0].data=[70.1,149.34,170.15],ve.data.datasets[0].backgroundColor=me,ve.data.datasets[0].hoverBackgroundColor=me,ve.data.datasets[0].barThickness=h?m?5.5*ue:7.25*ue:14.625*ue,ve.data.datasets[0].borderRadius=h?0:.625*ue,ve.data.datasets.splice(1,2),ve.options.scales.y.grid.display=!1,ve.options.scales.y.ticks.display=!1,ve.options.scales.y.grace=h?"15%":"42%",ve.options.plugins.tooltip.enabled=!1,ve.options.plugins.datalabels.display=!0,h?ge.slideUp(300):ge.removeClass("active")):2==fe&&(ve.data.datasets[0].data=[25e3,41e3,45021],ve.data.datasets[0].backgroundColor="#9FCE30",ve.data.datasets[0].hoverBackgroundColor="#9FCE30",ve.data.datasets[0].barThickness=h?m?1.3125*ue:3.0625*ue:6.25*ue,ve.data.datasets[0].borderRadius=h?0:.3125*ue,ve.data.datasets[1]={label:"",data:[4e3,9e3,6407],backgroundColor:"#BCEA51",hoverBackgroundColor:"#BCEA51",barThickness:h?m?1.3125*ue:3.0625*ue:6.25*ue,borderRadius:h?0:.3125*ue},ve.data.datasets[2]={label:"",data:[5e3,1e4,12294],backgroundColor:"#CEF375",hoverBackgroundColor:"#CEF375",barThickness:h?m?1.3125*ue:3.0625*ue:6.25*ue,borderRadius:h?0:.3125*ue},ve.options.scales.y.grid.display=!0,ve.options.scales.y.ticks.display=!0,ve.options.scales.y.grace="14%",ve.options.plugins.tooltip.enabled=!0,ve.options.plugins.datalabels.display=!1,h?ge.slideDown(300):ge.addClass("active")),ve.update())})),e(".question").on("click",(function(){e(this).parent(".faq__item").toggleClass("active").children(".answer").slideToggle(300),pe(),q(),z(),Q(),J()})),c.on("click",(function(e){ne&&re(e)})),c.keydown((function(e){27==e.which&&(Z?ee():ae?oe():H&&I())})),d.on("scroll",(function(){(i=Math.round(d.scrollTop()))>f?i>3*g&&v.removeClass("show"):i>3*g?(v.addClass("sticky__header show"),c.css("padding-top",g)):0==i&&(v.removeClass("sticky__header show"),c.css("padding-top",0)),f=i})),d.on("scroll",we((function(){z(),J()}),50));var Ce=!1;function ye(){Ce||(Ce=!0,be(),function(){var t=window.location.hash;if(t.length<2||0==e(t).length)return z(),void J();o.filter((function(){var i=e(this).attr("href");if(t==i.slice(i.indexOf("#")))return _.addClass("anchor__links__active"),!0})).parent("li").addClass("active__anchor__link"),C(Math.round(e(t).offset().top))}(),_.addClass("initialized"))}d.on("resize",we((function(){be(),z(),J(),ue=window.getComputedStyle(_[0]).getPropertyValue("font-size").slice(0,-2),(me=he.createLinearGradient(0,0,0,43.75*ue)).addColorStop(0,"#9FCE30"),me.addColorStop(1,"rgba(159, 206, 48, 0.25)"),h?m?(Chart.defaults.font.size=ue,Chart.defaults.plugins.tooltip.padding=.625*ue,Chart.defaults.plugins.tooltip.titleFont={size:.875*ue},Chart.defaults.plugins.tooltip.bodyFont={size:.875*ue}):(Chart.defaults.font.size=1.125*ue,Chart.defaults.plugins.tooltip.padding=.75*ue,Chart.defaults.plugins.tooltip.titleFont={size:ue},Chart.defaults.plugins.tooltip.bodyFont={size:ue}):(Chart.defaults.font.size=1.5*ue,Chart.defaults.plugins.tooltip.padding=.9375*ue,Chart.defaults.plugins.tooltip.titleFont={size:1.125*ue},Chart.defaults.plugins.tooltip.bodyFont={size:1.125*ue}),ve.options.layout.padding.bottom=h?m?-.75*ue:-.9375*ue:-1.375*ue,ve.options.scales.y.ticks.padding=.5625*ue,ve.options.scales.x.ticks.padding=h?m?.75*ue:.9375*ue:1.375*ue,0==fe?(ve.data.datasets[0].backgroundColor=me,ve.data.datasets[0].hoverBackgroundColor=me,ve.data.datasets[0].barThickness=m?4*ue:6.25*ue):1==fe?(ve.data.datasets[0].backgroundColor=me,ve.data.datasets[0].hoverBackgroundColor=me,ve.data.datasets[0].barThickness=h?m?5.5*ue:7.25*ue:14.625*ue,ve.data.datasets[0].borderRadius=h?0:.625*ue,ve.options.scales.y.grace=h?"15%":"42%",ve.options.plugins.datalabels.font.size=h?m?1.25*ue:1.5*ue:3*ue,ve.options.plugins.datalabels.padding.bottom=h?1.5625*ue:4.0625*ue):2==fe&&(ve.data.datasets[0].barThickness=h?m?1.3125*ue:3.0625*ue:6.25*ue,ve.data.datasets[0].borderRadius=h?0:.3125*ue,ve.data.datasets[1].barThickness=h?m?1.3125*ue:3.0625*ue:6.25*ue,ve.data.datasets[1].borderRadius=h?0:.3125*ue,ve.data.datasets[2].barThickness=h?m?1.3125*ue:3.0625*ue:6.25*ue,ve.data.datasets[2].borderRadius=h?0:.3125*ue),ve.update()}),250)),e(document).ready((function(){ye()})),window.onload=function(){ye()}}));